"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function routes(e){e.get("/api/todos",function(e,o){Todo.find(function(e,t){e&&o.send(e),o.json(t)})}),e.post("/api/todos",function(e,o){Todo.create({text:e.body.text,done:!1},function(e,t){e&&o.send(e),Todo.find(function(e,t){e&&o.send(e),o.json(t)})})}),e.delete("/api/todos/:todo_id",function(e,o){Todo.remove({_id:e.params.todo_id},function(e,t){e&&o.send(e),Todo.find(function(e,t){e&&o.send(e),o.json(t)})})}),e.get("*",function(e,o){o.sendfile("./public/index.html")})}var express=_interopDefault(require("express")),database={dev:"mongodb://localhost/venm",prod:"mongodb://localhost/venm"},mongoose$1=require("mongoose"),Todo=mongoose$1.model("Todo",{text:String,done:Boolean}),app=express(),mongoose=require("mongoose"),morgan=require("morgan"),bodyParser=require("body-parser"),methodOverride=require("method-override"),http=require("http"),port=process.env.PORT||8080,ip=process.env.IP||"127.0.0.1";mongoose.connect(database.dev),app.use(express.static(__dirname+"/public")),app.use(morgan("dev")),app.use(bodyParser.urlencoded({extended:"true"})),app.use(bodyParser.json()),app.use(bodyParser.json({type:"application/vnd.api+json"})),app.use(methodOverride()),routes(app),app.set("port",port),app.set("ip",ip),http.createServer(app).listen(app.get("port"),app.get("ip"),function(){console.log("âœ” Express server listening at %s:%d ",app.get("ip"),app.get("port"))});
